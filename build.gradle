// Applies scala plugin.
// src in src/main/scala
// test in src/test/scala

apply plugin: 'scala'

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.scala-lang:scala-library:2.10.3'
}

// Project info.
version = '0.1'

// Publishes to a directory.
uploadArchives {
    repositories {
        flatDir {
            dirs 'repos'
        }
    }
}

// Generate start script.
import org.apache.tools.ant.filters.*
task(startScriptsDev, type: Copy) {
    from 'src/bin'
    into 'build'
    filter(ReplaceTokens, tokens: [classpath: sourceSets.main.runtimeClasspath.asPath, mainclass: 'com.rainysoft.decisiontree.application.Application'])
}

// Make copy of start script on every assemble.
assemble.dependsOn startScriptsDev
